<%- include('../layouts/header') %>

<div class="content-wrapper">
  <div class="container-xxl flex-grow-1 container-p-y">
    <h4 class="fw-bold py-3 mb-4">User Management</h4>

    <div class="card">
      <div class="card-header d-flex justify-content-between align-items-center">
          <h5 class="mb-0">User List</h5>
          <a href="/addUser" class="btn btn-primary">Add New User</a>
      </div>

      <div class="table-responsive text-nowrap">
        <table class="table">
          <thead>
            <tr>
              <th>Image</th>
              <th>Username</th>
              <th>Email</th>
              <th>Phone No.</th>
              <th>City</th>
              <th>Actions</th>
            </tr>
          </thead>
          <tbody class="table-border-bottom-0">
            
            <% data.map((val)=>{ %>
              <tr style="vertical-align: middle;">
                  <td>
                      <img src="/uploads/<%= val.user_image %>" width="50" height="50" style="border-radius: 50%; object-fit: cover;">
                  </td>
                  <td><strong><%= val.username %></strong></td>
                  <td><%= val.email %></td>
                  <td><%= val.phone %></td>
                  <td><%= val.city %></td>
                  <td>
                      <a href="/edit-user/<%= val._id %>" class="btn btn-sm btn-primary">Edit</a>
                      <a href="/delete-user/<%= val._id %>" class="btn btn-sm btn-danger">Delete</a>
                  </td>
              </tr>
            <% }) %>

          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>

<%- include('../layouts/footer') %>